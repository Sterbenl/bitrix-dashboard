# Bitrix Dashboard

Трёхстраничный сайт с интеграцией Битрикс24 API, построенный на Next.js с TypeScript.

## Функциональность

- **Регистрация/Авторизация**: Создание контактов в Битрикс24 и локальной БД
- **Дашборд**: Отображение заказов, профиля, трансляции и платежей
- **Профиль**: Редактирование данных пользователя с синхронизацией в Битрикс24

## Технологии

- Next.js 14 с TypeScript
- Material-UI (MUI)
- SCSS
- Swiper для слайдеров
- better-sqlite3 для базы данных
- bcryptjs для хеширования паролей

## Установка

1. Клонируйте репозиторий
2. Установите зависимости:
   ```bash
   npm install
   ```

3. Скопируйте файл окружения:
   ```bash
   cp env.example .env.local
   ```

4. Настройте переменные окружения в `.env.local`:
   - `BITRIX_WEBHOOK_URL` - URL вебхука из Битрикс24

5. Заполните базу данных моковыми данными:
   ```bash
   npx tsx scripts/seed-database.ts
   ```

6. Запустите приложение:
   ```bash
   npm run dev
   ```

## Настройка Битрикс24

1. Создайте аккаунт Битрикс24
2. Перейдите в: Приложения → Разработчикам → Другое → Входящий вебхук
3. Нажмите «Включить демо-тариф»
4. Скопируйте URL вебхука в переменную `BITRIX_WEBHOOK_URL`

## Структура проекта

```
src/
├── app/                 # Next.js App Router
│   ├── api/            # API роуты
│   ├── auth/           # Страница авторизации
│   ├── dashboard/      # Дашборд
│   └── profile/        # Профиль пользователя
├── components/         # React компоненты
├── lib/               # Утилиты и конфигурация
└── types/             # TypeScript типы
```

## API Endpoints

- `POST /api/auth` - Авторизация/регистрация
- `PUT /api/profile` - Обновление профиля
- `GET /api/orders` - Получение заказов
- `GET /api/payments` - Получение платежей

## Особенности

- Валидация форм на клиенте и сервере
- Адаптивный дизайн для мобильных устройств
- Хеширование паролей
- Синхронизация данных с Битрикс24
- Фильтрация платежей
- Swiper слайдер для заказов